# API ëª…ì„¸ì„œ

## ğŸ”‘ ê¸°ë³¸ ì •ë³´

* **Base URL**: `/api/v1`
* **Content-Type**: `application/json`

---

## 1. í™˜ì (Patient) API

### 1.1. ëª¨ë“  í™˜ì ëª©ë¡ ì¡°íšŒ

* **Endpoint**: `GET /api/v1/patients`
* **ì„¤ëª…**: ì‹œìŠ¤í…œì— ë“±ë¡ëœ ëª¨ë“  í™˜ì ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
* **ìš”ì²­ (Request)**:
    * (ì—†ìŒ)
* **ì‘ë‹µ (Response)**: `200 OK`
    * **Body**: `List<Patient>`
    * **ì˜ˆì‹œ**:
        ```json
        [
          { "id": "p001", "name": "ì´ìŠ¹ë¯¼", "age": 25 },
          { "id": "p002", "name": "ê¹€ì² ìˆ˜", "age": 42 }
        ]
        ```

---

## 2. ì¸¡ì • (Measurement) API

### 2.1. ì¸¡ì • ì„¸ì…˜ ì‹œì‘

* **Endpoint**: `POST /api/v1/measurements/start`
* **ì„¤ëª…**: ìƒˆë¡œìš´ ì¸¡ì • ì„¸ì…˜ì„ ìƒì„±í•˜ê³  ì‹œì‘í•©ë‹ˆë‹¤.
* **ìš”ì²­ (Request)**:
    * **Body**: `Map<String, String>` (ì¸¡ì •ì„ ìˆ˜í–‰í•  í™˜ì ID í¬í•¨)
    * **ì˜ˆì‹œ**:
        ```json
        {
          "patientId": "p001"
        }
        ```
* **ì‘ë‹µ (Response)**: `200 OK`
    * **Body**: `Map<String, Long>` (ìƒì„±ëœ ì¸¡ì • ì„¸ì…˜ì˜ ê³ ìœ  ID)
    * **ì˜ˆì‹œ**:
        ```json
        {
          "measurement_Id": 123
        }
        ```

### 2.2. ì¸¡ì • ë°ì´í„° ì €ì¥ (ì¼ê´„)

* **Endpoint**: `POST /api/v1/measurements/{id}/data`
* **ì„¤ëª…**: `2.1`ì—ì„œ ë°œê¸‰ë°›ì€ `measurement_Id`ì— í•´ë‹¹í•˜ëŠ” ì„¸ì…˜ì— ì‹¤ì œ ì¸¡ì • ë°ì´í„°(ì„¼ì„œ ê°’ ë“±)ë¥¼ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ì¼ê´„ ì €ì¥í•©ë‹ˆë‹¤.
* **ìš”ì²­ (Request)**:
    * **Path Variable**: `id` (ì¸¡ì • ì„¸ì…˜ ID, ì˜ˆ: `123`)
    * **Body**: `List<Map<String, Object>>` (ë°ì´í„° í¬ì¸íŠ¸ì˜ ë¦¬ìŠ¤íŠ¸)
    * **ì˜ˆì‹œ**:
        ```json
        [
          { "timestamp": 1678886400, "ax": 0.01, "ay": 0.98, "az": -0.05 },
          { "timestamp": 1678886401, "ax": 0.02, "ay": 0.97, "az": -0.04 },
          { "timestamp": 1678886402, "ax": 0.01, "ay": 0.99, "az": -0.05 }
        ]
        ```
* **ì‘ë‹µ (Response)**: `200 OK`
    * (Body ì—†ìŒ)

### 2.3. ì¸¡ì • ì„¸ì…˜ ì¢…ë£Œ

* **Endpoint**: `POST /api/v1/measurements/{id}/stop`
* **ì„¤ëª…**: `2.1`ì—ì„œ ì‹œì‘í•œ ì¸¡ì • ì„¸ì…˜ì„ ì¢…ë£Œ ìƒíƒœë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
* **ìš”ì²­ (Request)**:
    * **Path Variable**: `id` (ì¸¡ì • ì„¸ì…˜ ID, ì˜ˆ: `123`)
* **ì‘ë‹µ (Response)**: `200 OK`
    * (Body ì—†ìŒ)

---

## 3. ì¡°íšŒ API

### 3.1. íŠ¹ì • í™˜ìì˜ ì¸¡ì • ì´ë ¥ ì¡°íšŒ

* **Endpoint**: `GET /api/v1/patients/{patientId}/measurements`
* **ì„¤ëª…**: íŠ¹ì • í™˜ìê°€ ìˆ˜í–‰í•œ ëª¨ë“  ì¸¡ì • ì„¸ì…˜ì˜ **ìš”ì•½ ì •ë³´** ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤. (ì˜ˆ: ì¸¡ì • ë‚ ì§œ, ì„¸ì…˜ ID)
* **ìš”ì²­ (Request)**:
    * **Path Variable**: `patientId` (í™˜ì ID, ì˜ˆ: `p001`)
* **ì‘ë‹µ (Response)**: `200 OK`
    * **Body**: `List<MeasurementSummaryDto>`
    * **ì˜ˆì‹œ**:
        ```json
        [
          { "measurementId": 123, "date": "2025-11-01T10:30:00" },
          { "measurementId": 124, "date": "2025-11-02T14:15:00" }
        ]
        ```

### 3.2. íŠ¹ì • ì¸¡ì • ì„¸ì…˜ì˜ ìƒì„¸ ë°ì´í„° ì¡°íšŒ

* **Endpoint**: `GET /api/v1/measurements/{id}/data`
* **ì„¤ëª…**: íŠ¹ì • ì¸¡ì • ì„¸ì…˜(`id`)ì— `2.2`ë¥¼ í†µí•´ ì €ì¥ëœ ëª¨ë“  **ìƒì„¸ ë°ì´í„°(DataPoint)**ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
* **ìš”ì²­ (Request)**:
    * **Path Variable**: `id` (ì¸¡ì • ì„¸ì…˜ ID, ì˜ˆ: `123`)
* **ì‘ë‹µ (Response)**: `200 OK`
    * **Body**: `List<DataPointDto>`
    * **ì˜ˆì‹œ**:
        ```json
        [
          { "timestamp": 1678886400, "ax": 0.01, "ay": 0.98, "az": -0.05 },
          { "timestamp": 1678886401, "ax": 0.02, "ay": 0.97, "az": -0.04 },
          { "timestamp": 1678886402, "ax": 0.01, "ay": 0.99, "az": -0.05 },
          ...
        ]
        ```
